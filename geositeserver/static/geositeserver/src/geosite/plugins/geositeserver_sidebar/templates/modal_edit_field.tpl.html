<div class="modal-dialog" role="document">
  <div
    ng-if="field_flat | default_if_undefined: false"
    class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button>
      <h4
        id="myModalLabel"
        class="modal-title"
        ng-bind-html="map_config_schema | extract : field : 'label' | prepend : 'Edit / ' | md2html"></h4>
    </div>
    <div class="modal-body">
      <ul class="nav nav-tabs nav-justified" role="tablist">
        <li role="presentation" class="active">
          <a
            href="#modal-edit-field-pane-input"
            aria-controls="modal-edit-field-pane-input"
            role="tab"
            data-toggle="tab"
            style="padding-left:8px; padding-right: 8px; height: 62px;">Input</a>
        </li>
        <li role="presentation" class="">
          <a
            href="#modal-edit-field-pane-preview"
            aria-controls="modal-edit-field-pane-preview"
            role="tab"
            data-toggle="tab"
            style="padding-left:8px; padding-right: 8px; height: 62px;">Preview</a>
        </li>
      </ul>
      <div class="tab-content">
        <div
          id="modal-edit-field-pane-input"
          role="tabpanel"
          class="tab-pane fade"
          style="padding: 10px;">
          <textarea
            id="modal-edit-field-{{ field_flat }}"
            name="modal-edit-field-{{ field_flat }}"
            class="form-control"
            placeholder="{{ map_config_schema | extract : field : 'placeholder' }}"
            rows="15"
            data-geosite-field-type="{{ map_config_schema | extract : field : 'type' }}"
            ng-required="map_config_schema | extract : field : 'required'"
            style="max-width: 100%;"
            ng-model="value_edit_field"
            ng-change="validateModalField(field_flat)"></textarea>
        </div>
        <div
          id="modal-edit-field-pane-preview"
          role="tabpanel"
          class="tab-pane fade"
          style="padding: 10px;">
          <pre
            style="word-wrap: break-word; white-space: pre-wrap;"
            ng-bind-html="value_edit_field | md2html"
          ></pre>
        </div>
      </div>
      <hr>
      <div
        class="btn btn-danger btn-clear"
        data-clear="#modal-edit-field-{{ field_flat }}, #editor-field-{{ field_flat }}">
        <i class="fa fa-times"></i>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
    </div>
  </div>
</div>

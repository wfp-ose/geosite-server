c3.chart.internal.fn.getBarW=function(t,a){var n=this,r=n.config,i=void 0;if($.isNumeric(r.bar_width)){var e=r.bar_width;e=r.bar_width_max&&e>r.bar_width_max?r.bar_width_max:e,i=function(t,a){return e}}else if(c3.chart.internal.fn.isFunction(r.bar_width))i=r.bar_width;else{var e=a?t.tickInterval()*r.bar_width_ratio/a:0;e=r.bar_width_max&&e>r.bar_width_max?r.bar_width_max:e,i=function(t,a){return e}}return i},c3.chart.internal.fn.getShapeX=function(t,a,n,r){var i=this,e=r?i.subX:i.x;return function(r,i){var c=r.id in n?n[r.id]:0;return r.x||0===r.x?c3.chart.internal.fn.isFunction(t)?e(r.x)-t(r,i)*(a/2-c):e(r.x)-t*(a/2-c):0}},c3.chart.internal.fn.generateGetBarPoints=function(t,a){var n=this,r=a?n.subXAxis:n.xAxis,i=t.__max__+1,e=n.getBarW(r,i),c=n.getShapeX(e,i,t,!!a),f=n.getShapeY(!!a),u=c3.chart.internal.fn.isFunction(n.config.bar_offset)?n.config.bar_offset:n.getShapeOffset(n.isBarType,t,!!a),o=a?n.getSubYScale:n.getYScale;return function(t,a){var r=o.call(n,t.id)(0),i=u(t,a)||r,h=c(t,a),s=f(t);return n.config.axis_rotated&&(0<t.value&&r>s||t.value<0&&s>r)&&(s=r),[[h,i],[h,s-(r-i)],[h+e(t,a),s-(r-i)],[h+e(t,a),i]]}},c3.chart.internal.fn.getYDomainMax=function(t){var a,n,r,i,e,c,f=this,u=f.config,o=f.mapToIds(t),h=f.getValuesAsIdKeyed(t);if(u.data_groups.length>0&&!u.bar_bullet)for(c=f.hasPositiveValueInTargets(t),a=0;a<u.data_groups.length;a++)if(i=u.data_groups[a].filter(function(t){return o.indexOf(t)>=0}),0!==i.length)for(r=i[0],c&&h[r]&&h[r].forEach(function(t,a){h[r][a]=t>0?t:0}),n=1;n<i.length;n++)e=i[n],h[e]&&h[e].forEach(function(t,a){f.axis.getId(e)!==f.axis.getId(r)||!h[r]||c&&0>+t||(h[r][a]+=+t)});return f.d3.max(Object.keys(h).map(function(t){return f.d3.max(h[t])}))};